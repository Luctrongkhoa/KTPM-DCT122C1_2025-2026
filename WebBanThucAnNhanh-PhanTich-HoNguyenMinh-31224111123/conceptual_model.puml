@startuml ConceptualModel
left to right direction
skinparam packageStyle rectangle
skinparam componentStyle rectangle
skinparam shadowing false

' --- Product Catalog group
package "Product Catalog" {
  entity "Menu" as Menu {
    * menu_id : UUID
    --
    name
    description
  }
  entity "MenuItem" as MenuItem {
    * item_id : UUID
    --
    name
    description
    price
    is_hot : boolean
    image_url
  }
  entity "Category" as Category {
    * category_id : UUID
    --
    name
    description
  }
  Menu ||--o{ MenuItem : contains
  Category ||--o{ MenuItem : categorizes
}

' --- Shopping Cart group
package "Shopping Cart / Cart" {
  entity "Cart" as Cart {
    * cart_id : UUID
    --
    customer_id
    created_at
    status
  }
  entity "CartItem" as CartItem {
    * cart_item_id : UUID
    --
    cart_id
    item_id
    quantity
    unit_price
  }
  Cart ||--o{ CartItem : has
  MenuItem ||--o{ CartItem : referenced_by
}

' --- Order / Payment group
package "Order & Payment" {
  entity "Order" as Order {
    * order_id : UUID
    --
    customer_id
    total_amount
    status
    created_at
  }
  entity "OrderItem" as OrderItem {
    * order_item_id : UUID
    --
    order_id
    item_id
    quantity
    unit_price
  }
  entity "Payment" as Payment {
    * payment_id : UUID
    --
    order_id
    amount
    method
    status
    paid_at
  }
  Order ||--o{ OrderItem : includes
  Order ||--o{ Payment : paid_by
  OrderItem }|--|| MenuItem : for
}

' --- Inventory group
package "Inventory" {
  entity "Inventory" as Inventory {
    * inventory_id : UUID
    --
    location_name
    address
  }
  entity "Stock" as Stock {
    * stock_id : UUID
    --
    inventory_id
    item_id
    quantity
    safety_level
  }
  Inventory ||--o{ Stock : stores
  MenuItem ||--o{ Stock : stocked_as
}

' --- Reservation / Table group
package "Reservation / Table" {
  entity "Table" as Table {
    * table_id : UUID
    --
    name
    seats
    location
  }
  entity "Reservation" as Reservation {
    * reservation_id : UUID
    --
    customer_id
    table_id
    reserved_at
    status
  }
  Table ||--o{ Reservation : reserved_by
}

' --- Rating / Review group
package "Rating / Review" {
  entity "Review" as Review {
    * review_id : UUID
    --
    customer_id
    item_id
    rating (1..5)
    comment
    created_at
  }
  MenuItem ||--o{ Review : reviewed_by
}

' --- Access Control / Users
package "Users & Access" {
  entity "User" as User {
    * user_id : UUID
    --
    name
    email
    phone
    password_hash
  }
  entity "Role" as Role {
    * role_id : UUID
    --
    name
  }
  entity "Permission" as Permission {
    * permission_id : UUID
    --
    name
  }
  User }|--o{ Role : has
  Role }|--o{ Permission : grants
}

' --- Discounts & Delivery
package "Promotions / Delivery" {
  entity "Discount" as Discount {
    * discount_id : UUID
    --
    code
    description
    amount_type
    amount_value
    valid_from
    valid_to
  }
  entity "Delivery" as Delivery {
    * delivery_id : UUID
    --
    order_id
    driver_id
    status
    eta
  }
  Order ||--o{ Discount : applied_discount
  Order ||--o{ Delivery : delivery_info
}

@enduml
